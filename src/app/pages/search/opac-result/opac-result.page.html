<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home/search" class="backbtn"></ion-back-button>
    </ion-buttons>
    <h3>BOOK'S DETAILS</h3>
  </ion-toolbar>
</ion-header>

<ion-content >
  <div class="description">
  <div *ngFor="let inf of information ; first as isFirst">
    <img *ngIf="isFirst" src={{inf.imagepath}} />
  </div>
  
  <!-- <img #null src="../../../assets/images/book5.jpg" /> -->
  <div class="ion-padding-vertical">
    <div *ngFor="let inf of information ; first as isFirst">
    <h1 text-wrap class="item-name"*ngIf="isFirst">{{inf.title}}</h1>
    <h4 *ngIf="isFirst" class="price">
      {{inf.author}}
    </h4>
  </div>
  </div>
  <div class="seperator">
    <hr>
  </div>
  
  <div>
    <h5>Description</h5>
    <div *ngFor="let inf of information ; first as isFirst">
      <p *ngIf="isFirst">
        {{inf.summary}}
      </p>
  </div>



  </div>
  <div class="review">
    <ion-row>
      <ion-col size="6">
        <div class="rating">
          
        </div>

        
      </ion-col>
      <ion-col size="6">
        <div class="count"></div>
      </ion-col>
    </ion-row>
  </div>
  <div class="seperator">
    <hr>
  </div>


  <div class="seperator">
    <hr>
  </div>
</div>


<ion-content padding>
  <ion-card>
  <ion-segment [(ngModel)]="segment">
    
    <ion-segment-button value="details">
      Details
    </ion-segment-button>
    <ion-segment-button value="availability">
      Availability
    </ion-segment-button>
 

  </ion-segment>
</ion-card>


  <div [ngSwitch]="segment">
    <ion-card *ngSwitchCase="'details'">
      <ion-card-header>
        <ion-grid class="sizes">
          <ion-row>
            <ion-col offset-4>
              <div>Author</div>
            </ion-col>
            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.author}}</div>
            </ion-col>
          </ion-row>

          <ion-item-divider></ion-item-divider>

          <ion-row>
            <ion-col offset-4>
              <div>ISBN</div>
            </ion-col>
            <ion-col *ngFor="let inf of information ; first as isFirst">
              <ion-label *ngIf="isFirst">{{inf.isbn.join(', \n  ')}}</ion-label>
            </ion-col>
          </ion-row>

          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>ISSN</div>
            </ion-col>

            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.issn}}</div>
            </ion-col>
          </ion-row>
          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Call Number</div>
            </ion-col>

            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.callNumber}}</div>
            </ion-col>
          </ion-row>

          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Publisher</div>
            </ion-col>

            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.publisher}}</div>
            </ion-col>  
          </ion-row>
          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Publication</div>
            </ion-col>

              <ion-col *ngFor="let inf of information ; first as isFirst">
                <div *ngIf="isFirst">{{inf.publication}}</div>
              </ion-col>  
          </ion-row>

          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Year</div>
            </ion-col>

            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.year}}</div>
            </ion-col>  
          </ion-row>


          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Physical Description</div> 
            </ion-col>
              <ion-col *ngFor="let inf of information ; first as isFirst">
                <div *ngIf="isFirst">{{inf.physicalDesc}}</div>
              </ion-col>  
          </ion-row>

          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Subject</div>
            </ion-col>

            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.subject}}</div>
            </ion-col>
          </ion-row>
     


          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>Related Name</div>
            </ion-col>
            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.addedAuthor}}</div>
            </ion-col>
          </ion-row>

          <ion-item-divider></ion-item-divider>
          
          <ion-row>
            <ion-col offset-4>
              <div>URL</div>
            </ion-col>
            <ion-col *ngFor="let inf of information ; first as isFirst">
              <div *ngIf="isFirst">{{inf.url}}</div>
            </ion-col>
          </ion-row>
  
        </ion-grid>
      </ion-card-header>
      
    </ion-card>
  
    <ion-card *ngSwitchCase="'availability'">
      <!-- <ion-card-content *ngIf="badRequest">
        <ion-card-header>
          <ion-row>
            <div>No copies available at the moment. </div>
          </ion-row>
        </ion-card-header>
      </ion-card-content> -->
      <ion-card-content *ngFor="let inf of information; let i=index ;">
        <!-- <ion-card-header *ngIf="inf.status == ('1' || '2' || '3' || '4' || '9')"> -->
          <ion-card-header>
          <ion-grid class="sizes">
            <ion-row>
              <ion-col offset-4>
                <div>Location</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div>{{inf.location}}</div>
              </ion-col>
            </ion-row>
            
            <ion-row>
              <ion-col offset-4>
                <div>Accession No</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div>{{inf.accessionNumber}}</div>
              </ion-col>
            </ion-row>
    
            <ion-row>
              <ion-col offset-4>
                <div>Material Category</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div>{{inf.materialcategory}}</div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col offset-4>
                <div>Volume</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div>{{inf.volume}}</div>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col offset-4>
                <div>Copy</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div>{{inf.copy}}</div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col offset-4>
                <div>Due Date</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div>{{inf.duedate}}</div>
              </ion-col>
            </ion-row>
   
            <ion-row>
              <ion-col offset-4>
                <div>Status</div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col></ion-col>
              <ion-col>
                <div *ngIf="inf.status == 1 ">Available</div>
                <div *ngIf="inf.status == 2 ">Reserved</div> 
                <div *ngIf="inf.status == 3 ">Loaned</div>
                <div *ngIf="inf.status == 4 ">Damaged</div>
                <div *ngIf="inf.status == 5 ">Binding</div> 
                <div *ngIf="inf.status == 6 ">Stored</div>
                <div *ngIf="inf.status == 7 ">Weeding</div>
                <div *ngIf="inf.status == 8 ">Missing</div>
                <div *ngIf="inf.status == 9 ">Processing</div>
                <div *ngIf="inf.status == 10 ">Inter-library</div>
                <div *ngIf="inf.status == 13 ">Lost</div>
                <div *ngIf="inf.status == 17 ">Dispose Missing</div>                          
              </ion-col>
            </ion-row>

          </ion-grid>
           <!-- Disable for 010 and 011 -->
          <div class="button-container">
            <ion-button *ngIf="inf.status == 1 " expand="block" (click)="reserveAction(inf, i)" class="main-button">Reserve</ion-button>
          </div>
          
          <ion-item-divider></ion-item-divider>
          

        </ion-card-header>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>